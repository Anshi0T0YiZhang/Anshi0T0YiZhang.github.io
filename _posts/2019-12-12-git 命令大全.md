# git命令大全

![](http://upload-images.jianshu.io/upload_images/18087435-2b52aaf65be47442.jpg)

git 使用. jpg

![](http://upload-images.jianshu.io/upload_images/18087435-bf2a996ef50a21b0.jpg)

git 命令. jpg

* * *

###### **fetch vs pull**

git fetch 是将远程主机的最新内容拉到本地，用户在检查了以后决定是否合并到工作本机分支中。  
而 git pull 则是将远程主机的最新内容拉下来后直接合并，即：git pull = git fetch + git merge，这样可能会产生冲突，需要手动解决。

* * *

下面是我整理的常用 Git 命令清单。几个专用名词的译名如下。

```
Workspace：工作区
Index / Stage：暂存区
Repository：仓库区（或本地仓库）
Remote：远程仓库


```

#### 一、新建代码库

```
$ git init

$ git init [project-name]

$ git clone [url]



```

#### 二、配置

Git 的设置文件为. gitconfig，它可以在用户主目录下（全局配置），也可以在项目目录下（项目配置）。

```
$ git config --list

$ git config -e [--global]

$ git config [--global] user.name "[name]"
$ git config [--global] user.email "[email address]”

git 修改当前的project的用户名的命令为：
> git config user.name 你的目标用户名;
git修改当前的project提交邮箱的命令为：
> git config user.email 你的目标邮箱名;
如果你要修改当前全局的用户名和邮箱时，需要在上面的两条命令中添加一个参数，–global，代表的是全局。
命令分别为：
> git config  --global user.name 你的目标用户名；
> git config  --global user.email 你的目标邮箱名;
```

#### 三、增加 / 删除文件

```
$ git add [file1] [file2] ...

$ git add [dir]

$ git add .


$ git add -p

$ git rm [file1] [file2] ...

$ git rm --cached [file]

$ git mv [file-original] [file-renamed]
```

#### 四、代码提交

```
$ git commit -m [message]

$ git commit [file1] [file2] ... -m [message]

$ git commit -a

$ git commit -v


$ git commit --amend -m [message]

$ git commit --amend [file1] [file2] ...
```

#### 五、分支

```
$ git branch

$ git branch -r

$ git branch -a

$ git branch [branch-name]

$ git checkout -b [branch]
git checkout -b appoint_box（别名） origin/feature/20181128_1491627_appoint_box_1（分支名）

$ git branch [branch] [commit]

$ git branch --track [branch] [remote-branch]

$ git checkout [branch-name]

$ git checkout -

$ git branch --set-upstream [branch] [remote-branch]

$ git merge [branch]

$ git cherry-pick [commit]

$ git branch -d [branch-name]

$ git push origin --delete [branch-name]
$ git branch -dr [remote/branch]
```

#### 六、标签

```
$ git tag

$ git tag [tag]

$ git tag [tag] [commit]

$ git tag -d [tag]

$ git push origin :refs/tags/[tagName]

$ git show [tag]

$ git push [remote] [tag]

$ git push [remote] --tags

$ git checkout -b [branch] [tag]
```

#### 七、查看信息

```
$ git status

$ git log

$ git log --stat

$ git log -S [keyword]

$ git log [tag] HEAD --pretty=format:%s

$ git log [tag] HEAD --grep feature

$ git log --follow [file]
$ git whatchanged [file]

$ git log -p [file]

$ git log -5 --pretty --oneline

$ git shortlog -sn

$ git blame [file]

$ git diff

$ git diff --cached [file]

$ git diff HEAD

$ git diff [first-branch]...[second-branch]

$ git diff --shortstat "@{0 day ago}"

$ git show [commit]

$ git show --name-only [commit]

$ git show [commit]:[filename]

$ git reflog
可以得到cimmit id

$ git rebase [branch]
```

#### 八、远程同步

```
$ git remote update  --更新远程仓储

$ git fetch [remote]

$ git remote -v

$ git remote show [remote]

$ git remote add [shortname] [url]

$ git pull [remote] [branch]

$ git push [remote] [branch]

$ git push [remote] --force

$ git push [remote] --all
```

#### 九、撤销

```
$ git checkout [file]

$ git checkout [commit] [file]

$ git checkout .

$ git reset [file]

$ git reset --hard

$ git reset [commit]

$ git reset --hard [commit]

$ git reset --keep [commit]


$ git revert [commit]

$ git stash
$ git stash pop
```

#### 十、其他

* * *

上传本地项目到远程仓库  
1、（先进入项目文件夹）通过命令 git init 把这个目录变成 git 可以管理的仓库

2、把文件添加到版本库中，使用命令 git add . 添加到暂存区里面去，不要忘记后面的小数点 “.”，意为添加文件夹下的所有文件

3、用命令 git commit 告诉 Git，把文件提交到仓库。引号内为提交说明

```
git commit -m 'first commit'
```

4、关联到远程库

```
git remote add origin 你的远程库地址
```

如：

```
git remote add origin https://github.com/githubusername/demo.git
```

5、获取远程库与本地同步合并（如果远程库不为空必须做这一步，否则后面的提交会失败）

```
git pull --rebase origin master
```

6、把本地库的内容推送到远程，使用 git push 命令，实际上是把当前分支 master 推送到远程。执行此命令后会要求输入用户名、密码，验证通过后即开始上传。

```
git push -u origin master
```

7、状态查询命令

```
git status
```

